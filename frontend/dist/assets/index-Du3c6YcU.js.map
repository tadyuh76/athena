{"version":3,"file":"index-Du3c6YcU.js","sources":["../../src/services/PostService.ts","../../src/components/PostRenderer.ts","../../src/main.ts"],"sourcesContent":["interface Post {\n  id: string;\n  title: string;\n  content: string;\n  author: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\ninterface CreatePostData {\n  title: string;\n  content: string;\n  author: string;\n}\n\nexport class PostService {\n  private baseUrl: string;\n\n  constructor() {\n    this.baseUrl = \"http://localhost:3001/api\";\n  }\n\n  async getAllPosts(): Promise<Post[]> {\n    try {\n      const response = await fetch(`${this.baseUrl}/posts`);\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.posts || [];\n    } catch (error) {\n      console.error(\"Error fetching posts:\", error);\n      throw error;\n    }\n  }\n\n  async getPostById(id: string): Promise<Post> {\n    try {\n      const response = await fetch(`${this.baseUrl}/posts/${id}`);\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.post;\n    } catch (error) {\n      console.error(\"Error fetching post:\", error);\n      throw error;\n    }\n  }\n\n  async createPost(postData: CreatePostData): Promise<Post> {\n    try {\n      const response = await fetch(`${this.baseUrl}/posts`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(postData),\n      });\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      const data = await response.json();\n      return data.post;\n    } catch (error) {\n      console.error(\"Error creating post:\", error);\n      throw error;\n    }\n  }\n\n  async checkHealth(): Promise<boolean> {\n    try {\n      const response = await fetch(`${this.baseUrl}/health`);\n      return response.ok;\n    } catch (error) {\n      console.error(\"Health check failed:\", error);\n      return false;\n    }\n  }\n}\n","interface Post {\n  id: string;\n  title: string;\n  content: string;\n  author: string;\n  createdAt: string;\n  updatedAt: string;\n}\n\nexport class PostRenderer {\n  private postsContainer: HTMLElement;\n\n  constructor() {\n    this.postsContainer =\n      document.getElementById(\"posts-container\") || document.body;\n  }\n\n  renderPosts(posts: Post[]): void {\n    if (posts.length === 0) {\n      this.renderEmptyState();\n      return;\n    }\n\n    const postsHtml = posts.map((post) => this.renderPost(post)).join(\"\");\n    this.postsContainer.innerHTML = postsHtml;\n  }\n\n  private renderPost(post: Post): string {\n    const createdDate = new Date(post.createdAt).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\",\n      hour: \"2-digit\",\n      minute: \"2-digit\",\n    });\n\n    return `\n      <div class=\"card mb-4 shadow-sm post-card\" data-post-id=\"${post.id}\">\n        <div class=\"card-body\">\n          <h5 class=\"card-title text-primary\">${this.escapeHtml(\n            post.title\n          )}</h5>\n          <p class=\"card-text\">${this.escapeHtml(post.content)}</p>\n          <div class=\"d-flex justify-content-between align-items-center\">\n            <small class=\"text-muted\">\n              <i class=\"bi bi-person-fill\"></i> By ${this.escapeHtml(\n                post.author\n              )}\n            </small>\n            <small class=\"text-muted\">\n              <i class=\"bi bi-clock-fill\"></i> ${createdDate}\n            </small>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  private renderEmptyState(): void {\n    this.postsContainer.innerHTML = `\n      <div class=\"text-center py-5\">\n        <div class=\"mb-4\">\n          <i class=\"bi bi-file-earmark-text display-1 text-muted\"></i>\n        </div>\n        <h3 class=\"text-muted\">No posts yet</h3>\n        <p class=\"text-muted\">Be the first to create a post!</p>\n      </div>\n    `;\n  }\n\n  private escapeHtml(text: string): string {\n    const map: { [key: string]: string } = {\n      \"&\": \"&amp;\",\n      \"<\": \"&lt;\",\n      \">\": \"&gt;\",\n      '\"': \"&quot;\",\n      \"'\": \"&#039;\",\n    };\n    return text.replace(/[&<>\"']/g, (m) => map[m]);\n  }\n}\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./style.css\";\nimport { PostService } from \"./services/PostService\";\nimport { PostRenderer } from \"./components/PostRenderer\";\n\nclass App {\n  private postService: PostService;\n  private postRenderer: PostRenderer;\n\n  constructor() {\n    this.postService = new PostService();\n    this.postRenderer = new PostRenderer();\n    this.init();\n  }\n\n  private async init(): Promise<void> {\n    console.log(\"ðŸš€ Athena App starting...\");\n    await this.loadPosts();\n    this.setupEventListeners();\n  }\n\n  private async loadPosts(): Promise<void> {\n    try {\n      const posts = await this.postService.getAllPosts();\n      this.postRenderer.renderPosts(posts);\n    } catch (error) {\n      console.error(\"Failed to load posts:\", error);\n      this.showError(\"Failed to load posts. Please try again later.\");\n    }\n  }\n\n  private setupEventListeners(): void {\n    // Refresh button\n    const refreshBtn = document.getElementById(\"refresh-btn\");\n    if (refreshBtn) {\n      refreshBtn.addEventListener(\"click\", () => this.loadPosts());\n    }\n\n    // Create post form\n    const createForm = document.getElementById(\n      \"create-post-form\"\n    ) as HTMLFormElement;\n    if (createForm) {\n      createForm.addEventListener(\"submit\", async (e) => {\n        e.preventDefault();\n        await this.handleCreatePost(createForm);\n      });\n    }\n  }\n\n  private async handleCreatePost(form: HTMLFormElement): Promise<void> {\n    const formData = new FormData(form);\n    const postData = {\n      title: formData.get(\"title\") as string,\n      content: formData.get(\"content\") as string,\n      author: formData.get(\"author\") as string,\n    };\n\n    if (!postData.title || !postData.content || !postData.author) {\n      this.showError(\"Please fill in all fields\");\n      return;\n    }\n\n    try {\n      await this.postService.createPost(postData);\n      form.reset();\n      await this.loadPosts();\n      this.showSuccess(\"Post created successfully!\");\n    } catch (error) {\n      console.error(\"Failed to create post:\", error);\n      this.showError(\"Failed to create post. Please try again.\");\n    }\n  }\n\n  private showError(message: string): void {\n    this.showAlert(message, \"danger\");\n  }\n\n  private showSuccess(message: string): void {\n    this.showAlert(message, \"success\");\n  }\n\n  private showAlert(message: string, type: \"success\" | \"danger\"): void {\n    const alertContainer = document.getElementById(\"alert-container\");\n    if (!alertContainer) return;\n\n    const alert = document.createElement(\"div\");\n    alert.className = `alert alert-${type} alert-dismissible fade show`;\n    alert.innerHTML = `\n      ${message}\n      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"alert\"></button>\n    `;\n\n    alertContainer.appendChild(alert);\n\n    // Auto-remove after 5 seconds\n    setTimeout(() => {\n      if (alert.parentNode) {\n        alert.parentNode.removeChild(alert);\n      }\n    }, 5000);\n  }\n}\n\n// Initialize the app when DOM is loaded\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  new App();\n});\n"],"names":["PostService","__publicField","response","error","id","postData","PostRenderer","posts","postsHtml","post","createdDate","text","map","m","App","refreshBtn","createForm","e","form","formData","message","type","alertContainer","alert"],"mappings":"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"}