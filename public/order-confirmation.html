<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Order Confirmation - Athena</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@300;400;500;600&family=Inter:wght@300;400;500&display=swap"
      rel="stylesheet"
    />
    <link href="/css/style.css" rel="stylesheet" />
    <script src="/js/components.js"></script>
  </head>
  <body>
    <site-header></site-header>

    <div class="container" style="margin-top: 100px; margin-bottom: 4rem">
      <div class="row justify-content-center">
        <div class="col-md-8 text-center">
          <h1 class="mb-3" style="font-family: 'Cormorant Garamond', serif">
            Thank you for your order
          </h1>
          <p id="orderMessage" class="lead">
            Your order has been received. We'll send a confirmation email
            shortly.
          </p>

          <div id="orderDetails" class="mt-4"></div>

          <a href="/products.html" class="btn btn-dark mt-4"
            >Continue Shopping</a
          >
        </div>
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const order = JSON.parse(localStorage.getItem("lastOrder") || "null");
        const orderDetails = document.getElementById("orderDetails");
        const orderMessage = document.getElementById("orderMessage");

        if (!order) {
          orderMessage.textContent = "No recent order found.";
          return;
        }

        // Show basic order info
        const html = `
          <div class="card p-3">
            <div class="d-flex justify-content-between mb-2">
              <div><strong>Order Number</strong></div>
              <div>${
                order.order_number || order.id || order.orderId || "â€”"
              }</div>
            </div>
            <div class="d-flex justify-content-between mb-2">
              <div><strong>Total</strong></div>
              <div>$${(order.total_amount || order.total || 0).toFixed(2)}</div>
            </div>
            <div class="mb-0 text-muted small">A confirmation email has been sent to ${
              order.shippingInfo?.email || order.email || "your email"
            }.</div>
          </div>
        `;

        orderDetails.innerHTML = html;

        // Clear lastOrder after showing
        // localStorage.removeItem('lastOrder'); // keep for debugging
      });
    </script>

    <site-footer></site-footer>
  </body>
</html>
